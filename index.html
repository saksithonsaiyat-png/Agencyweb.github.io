<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LUXE WEAR | The Aristocrat Collection</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Framer Motion -->
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet">

    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'luxe-black': '#0a0a0a',
                        'luxe-dark': '#121212',
                        'luxe-gray': '#2a2a2a',
                        'luxe-gold': '#D4AF37',
                        'luxe-gold-light': '#F3E5AB',
                        'luxe-white': '#FAFAFA',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                    },
                    backgroundImage: {
                        'hero-pattern': "url('https://images.unsplash.com/photo-1490481651871-ab68de25d43d?q=80&w=2070&auto=format&fit=crop')",
                    }
                }
            }
        }
    </script>

    <style>
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #0a0a0a; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #D4AF37; }
        body { background-color: #0a0a0a; color: #FAFAFA; overflow-x: hidden; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;
        const { motion, AnimatePresence } = window.Motion;

        // --- Icons ---
        const Icons = {
            ShoppingBag: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/><path d="M3 6h18"/><path d="M16 10a4 4 0 0 1-8 0"/></svg>,
            X: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>,
            Menu: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" {...props}><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>,
            Star: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none" {...props}><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>,
            ArrowRight: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>,
            Search: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" {...props}><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>,
            Plus: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M5 12h14"/><path d="M12 5v14"/></svg>,
            Minus: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M5 12h14"/></svg>,
            MapPin: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>,
            Phone: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
        };

        // --- Data ---
        const PRODUCTS = [
            { id: 1, name: "The Royal Silk Shirt", price: 4500, category: "Silk", image: "https://images.unsplash.com/photo-1598033129183-c4f50c736f10?q=80&w=1925&auto=format&fit=crop", desc: "เสื้อเชิ้ตผ้าไหมแท้ 100% สัมผัสนุ่มลื่น ดุจดั่งชนชั้นสูง ทรง Slim Fit" },
            { id: 2, name: "Midnight Velvet Blazer", price: 8900, category: "Blazer", image: "https://images.unsplash.com/photo-1507679799987-c73779587ccf?q=80&w=2071&auto=format&fit=crop", desc: "เบลเซอร์กำมะหยี่สีดำรัตติกาล เหมาะสำหรับงานกาล่าและการพบปะสำคัญ" },
            { id: 3, name: "Linen Breeze White", price: 3200, category: "Linen", image: "https://images.unsplash.com/photo-1489987707025-afc232f7ea0f?q=80&w=2070&auto=format&fit=crop", desc: "ความสบายที่หรูหรา ผ้าลินินอิตาลี ระบายอากาศเยี่ยมยอด สีขาวบริสุทธิ์" },
            { id: 4, name: "Gold Thread Tuxedo", price: 12500, category: "Suits", image: "https://images.unsplash.com/photo-1594938298603-c8148c4dae35?q=80&w=1780&auto=format&fit=crop", desc: "ทักซิโด้ปักดิ้นทอง งานแฮนด์เมด ใส่ใจทุกรายละเอียด เพื่อค่ำคืนพิเศษ" },
            { id: 5, name: "Oxford Classic Blue", price: 2800, category: "Cotton", image: "https://images.unsplash.com/photo-1596755094514-f87e34085b2c?q=80&w=1888&auto=format&fit=crop", desc: "คลาสสิกไม่มีวันตาย ผ้า Oxford เกรดพรีเมียม ตัดเย็บปราณีต" },
            { id: 6, name: "Signature Black Polo", price: 2500, category: "Casual", image: "https://images.unsplash.com/photo-1617137968427-85924c800a22?q=80&w=1887&auto=format&fit=crop", desc: "โปโลซิกเนเจอร์ โลโก้ทอง 18K สไตล์ Casual ที่ยังคงความเนี้ยบ" },
        ];
        const CATEGORIES = ["All", "Silk", "Blazer", "Linen", "Suits", "Cotton", "Casual"];

        // --- Shared Components ---
        const Navbar = ({ cartCount, onOpenCart, activePage, onNavigate }) => {
            const [scrolled, setScrolled] = useState(false);
            const [menuOpen, setMenuOpen] = useState(false);

            useEffect(() => {
                const handleScroll = () => setScrolled(window.scrollY > 50);
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            const NavLink = ({ page, label }) => (
                <button 
                    onClick={() => { onNavigate(page); setMenuOpen(false); }}
                    className={`uppercase tracking-widest text-sm transition-all duration-300 relative group ${activePage === page ? 'text-luxe-gold' : 'text-gray-300 hover:text-white'}`}
                >
                    {label}
                    <span className={`absolute -bottom-2 left-0 h-[1px] bg-luxe-gold transition-all duration-300 ${activePage === page ? 'w-full' : 'w-0 group-hover:w-full'}`}></span>
                </button>
            );

            return (
                <motion.nav 
                    className={`fixed w-full z-50 transition-all duration-300 ${scrolled || menuOpen ? 'bg-luxe-black/95 backdrop-blur-md py-4 shadow-lg border-b border-white/10' : 'bg-transparent py-6'}`}
                >
                    <div className="container mx-auto px-6 flex justify-between items-center">
                        <div className="flex items-center gap-4">
                            <button onClick={() => setMenuOpen(!menuOpen)} className="md:hidden text-white"><Icons.Menu /></button>
                            <a href="#" onClick={(e) => { e.preventDefault(); onNavigate('home'); }} className="font-serif text-2xl font-bold tracking-widest text-white">
                                LUXE<span className="text-luxe-gold">.</span>WEAR
                            </a>
                        </div>

                        {/* Desktop Menu */}
                        <div className="hidden md:flex gap-8 items-center">
                            <NavLink page="collections" label="Collections" />
                            <NavLink page="atelier" label="Atelier" />
                            <NavLink page="journal" label="Journal" />
                            <NavLink page="contact" label="Contact" />
                        </div>

                        <div className="flex items-center gap-6">
                            <div className="relative cursor-pointer" onClick={onOpenCart}>
                                <Icons.ShoppingBag className="w-5 h-5 text-white hover:text-luxe-gold transition-colors" />
                                {cartCount > 0 && (
                                    <motion.span 
                                        initial={{ scale: 0 }}
                                        animate={{ scale: 1 }}
                                        className="absolute -top-2 -right-2 bg-luxe-gold text-luxe-black text-[10px] font-bold w-4 h-4 flex items-center justify-center rounded-full"
                                    >
                                        {cartCount}
                                    </motion.span>
                                )}
                            </div>
                        </div>
                    </div>

                    {/* Mobile Menu */}
                    <AnimatePresence>
                        {menuOpen && (
                            <motion.div 
                                initial={{ height: 0, opacity: 0 }} 
                                animate={{ height: 'auto', opacity: 1 }} 
                                exit={{ height: 0, opacity: 0 }}
                                className="md:hidden overflow-hidden bg-luxe-black border-t border-white/10"
                            >
                                <div className="flex flex-col p-6 space-y-4 items-center">
                                    <NavLink page="collections" label="Collections" />
                                    <NavLink page="atelier" label="Atelier" />
                                    <NavLink page="journal" label="Journal" />
                                    <NavLink page="contact" label="Contact" />
                                </div>
                            </motion.div>
                        )}
                    </AnimatePresence>
                </motion.nav>
            );
        };

        const ProductCard = ({ product, onAddToCart, onQuickView }) => (
            <motion.div 
                layout
                initial={{ opacity: 0, scale: 0.9 }}
                animate={{ opacity: 1, scale: 1 }}
                whileHover={{ y: -5 }}
                className="group relative"
            >
                <div className="relative aspect-[3/4] overflow-hidden bg-luxe-gray cursor-pointer" onClick={() => onQuickView(product)}>
                    <motion.img 
                        whileHover={{ scale: 1.05 }}
                        transition={{ duration: 0.5 }}
                        src={product.image} 
                        alt={product.name} 
                        className="w-full h-full object-cover"
                    />
                    <div className="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center gap-4">
                        <button 
                            onClick={(e) => { e.stopPropagation(); onAddToCart(product); }}
                            className="bg-white text-black px-6 py-3 uppercase text-xs tracking-wider font-bold hover:bg-luxe-gold hover:text-black transition-colors"
                        >
                            Add to Cart
                        </button>
                    </div>
                </div>
                <div className="mt-4 text-center">
                    <p className="text-gray-400 text-xs uppercase tracking-widest mb-1">{product.category}</p>
                    <h3 className="text-white font-serif text-lg tracking-wide cursor-pointer hover:text-luxe-gold transition-colors" onClick={() => onQuickView(product)}>{product.name}</h3>
                    <p className="text-luxe-gold mt-2 font-medium">฿{product.price.toLocaleString()}</p>
                </div>
            </motion.div>
        );

        // --- Pages ---

        const HomePage = ({ onNavigate }) => (
            <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className="pt-0">
                {/* Hero */}
                <div className="relative h-screen w-full overflow-hidden flex items-center justify-center">
                    <motion.div 
                        initial={{ scale: 1.1 }}
                        animate={{ scale: 1 }}
                        transition={{ duration: 10, repeat: Infinity, repeatType: "mirror" }}
                        className="absolute inset-0 bg-hero-pattern bg-cover bg-center"
                    />
                    <div className="absolute inset-0 bg-gradient-to-t from-luxe-black via-luxe-black/50 to-transparent" />
                    <div className="relative z-10 text-center px-4">
                        <motion.p initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.5 }} className="text-luxe-gold tracking-[0.3em] text-sm uppercase mb-4">The Aristocrat Collection</motion.p>
                        <motion.h1 initial={{ opacity: 0, y: 30 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.7, duration: 0.8 }} className="font-serif text-5xl md:text-8xl text-white font-medium mb-8 leading-tight">ELEGANCE <br /> <span className="italic font-light text-gray-300">REDEFINED</span></motion.h1>
                        <motion.button 
                            onClick={() => onNavigate('collections')}
                            initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 1 }}
                            className="px-8 py-3 border border-white/30 text-white uppercase tracking-widest text-xs hover:bg-luxe-gold hover:border-luxe-gold hover:text-black transition-all duration-300"
                        >
                            Explore Collection
                        </motion.button>
                    </div>
                </div>
            </motion.div>
        );

        const CollectionsPage = ({ addToCart, setQuickViewProduct }) => {
            const [selectedCategory, setSelectedCategory] = useState("All");
            const filteredProducts = useMemo(() => selectedCategory === "All" ? PRODUCTS : PRODUCTS.filter(p => p.category === selectedCategory), [selectedCategory]);

            return (
                <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: -20 }} className="pt-32 pb-20 container mx-auto px-6 min-h-screen">
                    <div className="text-center mb-12">
                        <h2 className="text-4xl md:text-5xl font-serif text-white">Our Collections</h2>
                        <div className="w-24 h-[1px] bg-luxe-gold mx-auto mt-6"></div>
                    </div>
                    
                    {/* Filters */}
                    <div className="flex flex-wrap justify-center gap-4 md:gap-8 mb-16">
                        {CATEGORIES.map(cat => (
                            <button key={cat} onClick={() => setSelectedCategory(cat)} className={`text-xs uppercase tracking-widest pb-2 border-b-2 transition-all duration-300 ${selectedCategory === cat ? 'text-luxe-gold border-luxe-gold' : 'text-gray-500 border-transparent hover:text-white'}`}>{cat}</button>
                        ))}
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-16">
                        <AnimatePresence>
                            {filteredProducts.map(product => (
                                <ProductCard key={product.id} product={product} onAddToCart={addToCart} onQuickView={setQuickViewProduct} />
                            ))}
                        </AnimatePresence>
                    </div>
                </motion.div>
            );
        };

        const AtelierPage = () => (
            <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className="pt-32 pb-20 container mx-auto px-6 min-h-screen">
                <div className="grid md:grid-cols-2 gap-16 items-center">
                    <div className="space-y-8">
                        <span className="text-luxe-gold uppercase tracking-[0.2em] text-sm">Craftsmanship</span>
                        <h2 className="text-5xl font-serif text-white leading-tight">The Art of <br/> <span className="italic text-gray-400">Tailoring</span></h2>
                        <p className="text-gray-300 leading-loose font-light">
                            ณ ห้องเสื้อของ Luxe Wear ช่างฝีมือชั้นครูของเราใช้เวลาหลายร้อยชั่วโมงในการรังสรรค์สูทแต่ละชุด ด้วยเทคนิคดั้งเดิมที่สืบทอดมารุ่นต่อรุ่น ผสมผสานกับนวัตกรรมผ้าสมัยใหม่ เราเชื่อว่าความหรูหราที่แท้จริงไม่ได้อยู่ที่ราคา แต่อยู่ที่ความใส่ใจในทุกฝีเข็ม
                        </p>
                        <div className="grid grid-cols-2 gap-8 pt-8">
                            <div>
                                <h4 className="text-3xl font-serif text-luxe-gold mb-2">50+</h4>
                                <p className="text-gray-500 text-xs uppercase tracking-widest">Master Tailors</p>
                            </div>
                            <div>
                                <h4 className="text-3xl font-serif text-luxe-gold mb-2">100%</h4>
                                <p className="text-gray-500 text-xs uppercase tracking-widest">Imported Silk</p>
                            </div>
                        </div>
                    </div>
                    <div className="relative">
                        <div className="absolute -top-4 -left-4 w-full h-full border border-luxe-gold/30"></div>
                        <img src="https://images.unsplash.com/photo-1594938328870-9623159c8c99?q=80&w=1974&auto=format&fit=crop" className="relative z-10 w-full grayscale hover:grayscale-0 transition-all duration-700" alt="Tailoring" />
                    </div>
                </div>
            </motion.div>
        );

        const JournalPage = () => {
            const articles = [
                { id: 1, title: "Summer Elegance: Linen Guide", date: "FEB 09, 2024", img: "https://images.unsplash.com/photo-1596755094514-f87e34085b2c?q=80&w=1888&auto=format&fit=crop" },
                { id: 2, title: "The History of the Tuxedo", date: "JAN 15, 2024", img: "https://images.unsplash.com/photo-1550246140-5119980d0a16?q=80&w=1935&auto=format&fit=crop" },
                { id: 3, title: "Caring for Italian Silk", date: "DEC 22, 2023", img: "https://images.unsplash.com/photo-1617137968427-85924c800a22?q=80&w=1887&auto=format&fit=crop" },
            ];
            return (
                <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className="pt-32 pb-20 container mx-auto px-6 min-h-screen">
                    <div className="text-center mb-16">
                        <span className="text-luxe-gold uppercase tracking-[0.2em] text-xs">Editorial</span>
                        <h2 className="text-4xl md:text-5xl font-serif text-white mt-4">The Journal</h2>
                    </div>
                    <div className="grid md:grid-cols-3 gap-8">
                        {articles.map(article => (
                            <div key={article.id} className="group cursor-pointer">
                                <div className="overflow-hidden mb-6 aspect-[4/3]">
                                    <img src={article.img} className="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" />
                                </div>
                                <span className="text-luxe-gold text-xs tracking-widest">{article.date}</span>
                                <h3 className="text-white font-serif text-xl mt-2 group-hover:text-luxe-gold transition-colors">{article.title}</h3>
                                <div className="flex items-center gap-2 mt-4 text-gray-500 text-xs uppercase tracking-wider group-hover:text-white transition-colors">
                                    Read Article <Icons.ArrowRight className="w-4 h-4" />
                                </div>
                            </div>
                        ))}
                    </div>
                </motion.div>
            );
        };

        const ContactPage = () => (
            <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className="pt-32 pb-20 container mx-auto px-6 min-h-screen">
                <div className="max-w-4xl mx-auto grid md:grid-cols-2 gap-12 bg-luxe-gray p-8 md:p-12 border border-white/5">
                    <div>
                        <h2 className="text-3xl font-serif text-white mb-6">Visit Our Flagship</h2>
                        <div className="space-y-6 text-gray-400 font-light">
                            <div className="flex gap-4">
                                <Icons.MapPin className="text-luxe-gold w-6 h-6 shrink-0" />
                                <p>Siam Paragon, Main Floor<br/>991 Rama I Rd, Pathum Wan,<br/>Bangkok 10330</p>
                            </div>
                            <div className="flex gap-4">
                                <Icons.Phone className="text-luxe-gold w-6 h-6 shrink-0" />
                                <p>+66 2 123 4567<br/>concierge@luxewear.com</p>
                            </div>
                        </div>
                        <div className="mt-8 pt-8 border-t border-white/10">
                            <h4 className="text-white mb-4 font-serif">Opening Hours</h4>
                            <p className="text-gray-400 text-sm">Mon - Sun: 10:00 - 21:00</p>
                        </div>
                    </div>
                    <form className="space-y-6" onSubmit={(e) => e.preventDefault()}>
                        <h3 className="text-xl text-white font-serif">Send a Message</h3>
                        <input type="text" placeholder="Name" className="w-full bg-luxe-black border border-white/10 p-4 text-white text-sm focus:border-luxe-gold outline-none transition-colors" />
                        <input type="email" placeholder="Email" className="w-full bg-luxe-black border border-white/10 p-4 text-white text-sm focus:border-luxe-gold outline-none transition-colors" />
                        <textarea rows="4" placeholder="Message" className="w-full bg-luxe-black border border-white/10 p-4 text-white text-sm focus:border-luxe-gold outline-none transition-colors"></textarea>
                        <button className="w-full bg-luxe-gold text-black py-4 uppercase text-xs font-bold tracking-widest hover:bg-white transition-colors">Send Inquiry</button>
                    </form>
                </div>
            </motion.div>
        );

        // --- Layout & App ---

        const App = () => {
            const [currentPage, setCurrentPage] = useState("home");
            const [cart, setCart] = useState([]);
            const [isCartOpen, setIsCartOpen] = useState(false);
            const [quickViewProduct, setQuickViewProduct] = useState(null);

            const addToCart = (product) => {
                setCart(prev => {
                    const existing = prev.find(item => item.id === product.id);
                    if (existing) return prev.map(item => item.id === product.id ? { ...item, qty: item.qty + 1 } : item);
                    return [...prev, { ...product, qty: 1 }];
                });
                setIsCartOpen(true);
            };

            const removeFromCart = (id) => setCart(prev => prev.filter(item => item.id !== id));
            
            const updateQty = (id, delta) => {
                setCart(prev => prev.map(item => {
                    if (item.id === id) {
                        const newQty = item.qty + delta;
                        return newQty > 0 ? { ...item, qty: newQty } : item;
                    }
                    return item;
                }));
            };

            const renderPage = () => {
                switch(currentPage) {
                    case 'collections': return <CollectionsPage key="collections" addToCart={addToCart} setQuickViewProduct={setQuickViewProduct} />;
                    case 'atelier': return <AtelierPage key="atelier" />;
                    case 'journal': return <JournalPage key="journal" />;
                    case 'contact': return <ContactPage key="contact" />;
                    default: return <HomePage key="home" onNavigate={setCurrentPage} />;
                }
            };

            return (
                <div className="bg-luxe-black min-h-screen text-luxe-white font-sans selection:bg-luxe-gold selection:text-black flex flex-col">
                    <Navbar 
                        cartCount={cart.reduce((a, b) => a + b.qty, 0)} 
                        onOpenCart={() => setIsCartOpen(true)} 
                        activePage={currentPage}
                        onNavigate={setCurrentPage}
                    />
                    
                    <main className="flex-grow">
                        <AnimatePresence mode="wait">
                            {renderPage()}
                        </AnimatePresence>
                    </main>

                    {/* Marquee Ticker */}
                    <div className="py-8 bg-luxe-gold border-y border-black overflow-hidden whitespace-nowrap">
                         <motion.div animate={{ x: [0, -1000] }} transition={{ repeat: Infinity, duration: 20, ease: "linear" }} className="inline-block text-black font-serif text-2xl italic font-bold tracking-widest">
                            FREE SHIPPING WORLDWIDE — PREMIER QUALITY GUARANTEED — HANDCRAFTED MASTERPIECES — LUXURY REDEFINED — 
                            FREE SHIPPING WORLDWIDE — PREMIER QUALITY GUARANTEED — HANDCRAFTED MASTERPIECES — LUXURY REDEFINED —
                         </motion.div>
                    </div>

                    {/* Footer */}
                    <footer className="bg-luxe-dark text-white pt-20 pb-10 border-t border-white/5">
                        <div className="container mx-auto px-6 grid md:grid-cols-4 gap-12 mb-16">
                            <div>
                                <a href="#" className="font-serif text-2xl font-bold tracking-widest text-white mb-6 block">LUXE<span className="text-luxe-gold">.</span>WEAR</a>
                                <p className="text-gray-500 text-sm leading-relaxed">สัญลักษณ์แห่งความสง่างามและความสมบูรณ์แบบ แฟชั่นที่ไร้กาลเวลาสำหรับสุภาพบุรุษผู้มีรสนิยม</p>
                            </div>
                            <div>
                                <h4 className="font-serif text-lg mb-6 text-luxe-gold">Menu</h4>
                                <ul className="space-y-4 text-sm text-gray-400">
                                    <li className="cursor-pointer hover:text-white" onClick={() => setCurrentPage('home')}>Home</li>
                                    <li className="cursor-pointer hover:text-white" onClick={() => setCurrentPage('collections')}>Collections</li>
                                    <li className="cursor-pointer hover:text-white" onClick={() => setCurrentPage('atelier')}>Atelier</li>
                                    <li className="cursor-pointer hover:text-white" onClick={() => setCurrentPage('journal')}>Journal</li>
                                </ul>
                            </div>
                            <div>
                                <h4 className="font-serif text-lg mb-6 text-luxe-gold">Customer Care</h4>
                                <ul className="space-y-4 text-sm text-gray-400">
                                    <li><a href="#" className="hover:text-white">Shipping & Returns</a></li>
                                    <li><a href="#" className="hover:text-white">Size Guide</a></li>
                                    <li><a href="#" className="hover:text-white">FAQ</a></li>
                                </ul>
                            </div>
                            <div>
                                <h4 className="font-serif text-lg mb-6 text-luxe-gold">Newsletter</h4>
                                <div className="flex border-b border-white/20 pb-2">
                                    <input type="email" placeholder="YOUR EMAIL" className="bg-transparent w-full outline-none text-white text-sm placeholder-gray-600" />
                                    <button className="text-white hover:text-luxe-gold uppercase text-xs tracking-widest">Subscribe</button>
                                </div>
                            </div>
                        </div>
                        <div className="container mx-auto px-6 text-center border-t border-white/5 pt-8 text-gray-600 text-xs tracking-widest">&copy; 2024 LUXE WEAR. ALL RIGHTS RESERVED.</div>
                    </footer>

                    {/* Sidebar Cart */}
                    <AnimatePresence>
                        {isCartOpen && (
                            <>
                                <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} onClick={() => setIsCartOpen(false)} className="fixed inset-0 bg-black/60 backdrop-blur-sm z-[60]" />
                                <motion.div initial={{ x: '100%' }} animate={{ x: 0 }} exit={{ x: '100%' }} transition={{ type: 'spring', damping: 25, stiffness: 200 }} className="fixed top-0 right-0 h-full w-full md:w-[450px] bg-luxe-dark border-l border-white/10 z-[70] shadow-2xl flex flex-col">
                                    <div className="p-6 border-b border-white/10 flex justify-between items-center bg-luxe-black">
                                        <h2 className="font-serif text-2xl text-white italic">Your Selection</h2>
                                        <button onClick={() => setIsCartOpen(false)} className="text-gray-400 hover:text-white"><Icons.X /></button>
                                    </div>
                                    <div className="flex-1 overflow-y-auto p-6 space-y-6">
                                        {cart.length === 0 ? (
                                            <div className="h-full flex flex-col items-center justify-center text-gray-500"><Icons.ShoppingBag className="w-12 h-12 mb-4 opacity-20" /><p className="text-sm uppercase tracking-widest">Your cart is empty</p></div>
                                        ) : (
                                            cart.map(item => (
                                                <div key={item.id} className="flex gap-4">
                                                    <div className="w-20 h-24 bg-gray-800 overflow-hidden shrink-0"><img src={item.image} alt={item.name} className="w-full h-full object-cover" /></div>
                                                    <div className="flex-1">
                                                        <div className="flex justify-between items-start"><h3 className="font-serif text-white text-lg">{item.name}</h3><button onClick={() => removeFromCart(item.id)} className="text-gray-500 hover:text-red-400"><Icons.X className="w-4 h-4" /></button></div>
                                                        <p className="text-xs text-gray-400 uppercase tracking-wider mb-3">{item.category}</p>
                                                        <div className="flex justify-between items-center">
                                                            <div className="flex items-center border border-white/20">
                                                                <button onClick={() => updateQty(item.id, -1)} className="p-1 hover:bg-white/10 text-white"><Icons.Minus className="w-3 h-3"/></button>
                                                                <span className="px-3 text-sm text-white">{item.qty}</span>
                                                                <button onClick={() => updateQty(item.id, 1)} className="p-1 hover:bg-white/10 text-white"><Icons.Plus className="w-3 h-3"/></button>
                                                            </div>
                                                            <p className="text-luxe-gold">฿{(item.price * item.qty).toLocaleString()}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            ))
                                        )}
                                    </div>
                                    <div className="p-6 border-t border-white/10 bg-luxe-black">
                                        <div className="flex justify-between items-center mb-6"><span className="text-gray-400 uppercase text-sm tracking-widest">Total</span><span className="font-serif text-2xl text-luxe-gold">฿{cart.reduce((acc, item) => acc + (item.price * item.qty), 0).toLocaleString()}</span></div>
                                        <button className="w-full bg-white text-black py-4 uppercase text-xs font-bold tracking-[0.2em] hover:bg-luxe-gold transition-colors">Checkout Now</button>
                                    </div>
                                </motion.div>
                            </>
                        )}
                    </AnimatePresence>

                    {/* Quick View Modal */}
                    <AnimatePresence>
                        {quickViewProduct && (
                            <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className="fixed inset-0 bg-black/80 backdrop-blur-md z-[80] flex items-center justify-center p-4" onClick={() => setQuickViewProduct(null)}>
                                <motion.div initial={{ y: 50, opacity: 0 }} animate={{ y: 0, opacity: 1 }} exit={{ y: 50, opacity: 0 }} onClick={(e) => e.stopPropagation()} className="bg-luxe-dark w-full max-w-4xl grid md:grid-cols-2 overflow-hidden shadow-2xl border border-white/10">
                                    <div className="relative h-64 md:h-full"><img src={quickViewProduct.image} className="w-full h-full object-cover" /></div>
                                    <div className="p-8 md:p-12 relative">
                                        <button onClick={() => setQuickViewProduct(null)} className="absolute top-6 right-6 text-gray-400 hover:text-white"><Icons.X /></button>
                                        <h2 className="font-serif text-3xl md:text-4xl text-white mb-2">{quickViewProduct.name}</h2>
                                        <p className="text-2xl text-luxe-gold mb-6 font-light">฿{quickViewProduct.price.toLocaleString()}</p>
                                        <p className="text-gray-300 font-light leading-relaxed mb-8">{quickViewProduct.desc}</p>
                                        <button onClick={() => { addToCart(quickViewProduct); setQuickViewProduct(null); }} className="w-full bg-white text-black py-4 uppercase text-xs font-bold tracking-[0.2em] hover:bg-luxe-gold transition-colors flex items-center justify-center gap-2"><Icons.ShoppingBag className="w-4 h-4" /> Add to Cart</button>
                                    </div>
                                </motion.div>
                            </motion.div>
                        )}
                    </AnimatePresence>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>


